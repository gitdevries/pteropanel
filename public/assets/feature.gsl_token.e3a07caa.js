(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{342:function(e,t,n){"use strict";n.r(t);var o=n(4),r=n.n(o),a=n(1),i=n(0),c=n.n(i),s=n(2),l=n(28),m=n(6),u=n(17),d=n(12),f=n(43),p=n(13),g=n(146),k=n(8),h=Object(a.c)(u.a).withConfig({componentId:"sc-1r409kx-0"})({marginBottom:"1rem"}),w=a.c.h2.withConfig({componentId:"sc-1r409kx-1"})({fontSize:"1.5rem",lineHeight:"2rem",marginBottom:"1rem","--tw-text-opacity":"1",color:"rgba(228.60750000000002, 231.591, 235.4925, var(--tw-text-opacity))"}),T=a.c.p.withConfig({componentId:"sc-1r409kx-2"})({marginTop:"1rem"}),b=a.c.p.withConfig({componentId:"sc-1r409kx-3"})({marginTop:"1rem"}),S=a.c.div.withConfig({componentId:"sc-1r409kx-4"})({alignItems:"center",marginTop:"1rem","@media (min-width: 640px)":{display:"flex"}}),E=a.c.div.withConfig({componentId:"sc-1r409kx-5"})({marginTop:"2rem",alignItems:"center",justifyContent:"flex-end","@media (min-width: 640px)":{display:"flex"}}),v=Object(a.c)(m.b).withConfig({componentId:"sc-1r409kx-6"})({marginTop:"1rem",width:"100%","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"1rem",width:"auto"}});t.default=function(){var e=Object(i.useState)(!1),t=r()(e,2),n=t[0],o=t[1],a=Object(i.useState)(!1),m=r()(a,2),u=m[0],x=m[1],O=s.a.useStoreState((function(e){return e.server.data.uuid})),C=s.a.useStoreState((function(e){return e.status.value})),y=Object(d.a)(),I=y.clearFlashes,L=y.clearAndAddHttpError,j=s.a.useStoreState((function(e){return e.socket})),A=j.connected,G=j.instance;Object(i.useEffect)((function(){if(A&&G&&"running"!==C){var e=["(gsl token expired)","(account not found)"],t=function(t){e.some((function(e){return t.toLowerCase().includes(e)}))&&o(!0)};return G.addListener(f.a.CONSOLE_OUTPUT,t),function(){G.removeListener(f.a.CONSOLE_OUTPUT,t)}}}),[A,G,C]);return Object(i.useEffect)((function(){I("feature:gslToken")}),[]),c.a.createElement(k.c,{onSubmit:function(e){x(!0),I("feature:gslToken"),Object(g.a)(O,"STEAM_ACC",e.gslToken).then((function(){G&&G.send(f.b.SET_STATE,"restart"),x(!1),o(!1)})).catch((function(e){console.error(e),L({key:"feature:gslToken",error:e})})).then((function(){return x(!1)}))},initialValues:{gslToken:""}},c.a.createElement(l.b,{visible:n,onDismissed:function(){return o(!1)},closeOnBackground:!1,showSpinnerOverlay:u},c.a.createElement(h,{key:"feature:gslToken"}),c.a.createElement(k.b,null,c.a.createElement(w,null,"Invalid GSL token!"),c.a.createElement(T,null,"It seems like your Gameserver Login Token (GSL token) is invalid or has expired."),c.a.createElement(b,null,"You can either generate a new one and enter it below or leave the field blank to remove it completely."),c.a.createElement(S,null,c.a.createElement(p.a,{name:"gslToken",label:"GSL Token",description:"Visit https://steamcommunity.com/dev/managegameservers to generate a token.",autoFocus:!0})),c.a.createElement(E,null,c.a.createElement(v,{type:"submit"},"Update GSL Token")))))}}}]);